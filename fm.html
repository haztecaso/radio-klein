---
layout: default
title: FM
---

<div class="player">
    <input type="range" class="amplitude-volume-slider" data-amplitude-song-index="0"/>
    <div class="amplitude-play-pause" data-amplitude-song-index="0"></div>
	<div class="data">
        <span class="title">Radio stream</span>
        <span class="playing">-</span>
        <span class="listeners">0</span>
	</div>
</div>

<h2>Programación<time>Huso horario UTC+2</time></h2>

<div class="tablecontainer">
<table>
      
   
    <tr>
     <th style="width:80px;"></th>
    <th>Sábado 18<br></th>
    <th>Domingo 19<br></th>
  </tr>
  <tr>
    <td>18:00</td>
    <td>Hemisphere</td>
    <td>Cutrinhos</td>
  </tr>
  <tr>
    <td>19.00</td>
    <td>Pacodelia</td>
    <td>Paréntesis</td>
  </tr>
  <tr>
    <td>20:00</td>
    <td>Iamapola</td>
    <td>Tardes con Grego</td>
  </tr>
  <tr>
   <td>21.00</td>
   <td></td>
   <td>Calle Bolivia</td>
  </tr>
</table>
</div>
<br>
<p>La programación se irá ampliando según vayamos recibiendo los programas que nos envían nuestros espontáneos colaboradores.</p>
<hr><br>
<p>Ya hemos subido los audios del domingo 12: <a href="../2020/04/12/estreno/">están aquí</a>.</p>
<script>
//Configuración radios
updateInterval = 1700; // Tiempo de actualización de los metadatos (en milisegundos)

Amplitude.init({"songs": [{
    "url": "https://haztecaso.mooo.com:8085/radio",
    "live":true
}]});

function loadJSON(callback) {
	var xobj = new XMLHttpRequest();
	xobj.overrideMimeType("application/json");
	xobj.open('GET', 'https://haztecaso.mooo.com:8085/status-json.xsl', true);
	xobj.onreadystatechange = function () { if (xobj.readyState == 4 && xobj.status == "200") {callback(xobj.responseText);}};
	xobj.send(null);
}

function parseJSON(code){
    data = JSON.parse(code.replace(": - ",": \"sin metadatos\"")).icestats.source;
    if (!(data instanceof Array)){ data = [data]; }
    return data;
}

function update(){
    loadJSON(function(response) {
        data = parseJSON(response);
        data.forEach(function(stream){
            if (stream.listenurl.split(/[\s\/]+/).pop() == "radio"){
                document.querySelector(".player .data .title").innerHTML     = stream.server_name;
                document.querySelector(".player .data .playing").innerHTML   = stream.title;
                document.querySelector(".player .data .listeners").innerHTML = stream.listeners;
            }
        });
    });
}
update();
window.setInterval(update, updateInterval);
</script>
